(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a(156)},127:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(11),r=a.n(o),l=(a(127),a(90)),c=a(91),s=a(104),d=a(92),m=a(105),u=a(220),v=a(16),p=a(15),f=a(103),g=Object(f.a)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{}},palette:{primary:{main:"#DF1B1B"}}}),b=a(49),h=a(6),x=a(226),E=a(157),w=a(203),D=a(5),y=function(){return{signupContainer:{margin:"auto",width:"400px",height:"480px","-webkit-box-shadow":"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},aboveDivider:{position:"relative",height:"75%"},belowDivider:{position:"relative",top:"40px"},textField:{},firstDivAboveDivider:{fontSize:"20px",position:"relative",top:"40px"},secondDivAboveDivider:{position:"relative",top:"70px"},firstDivOfSecondDivAboveDivider:{fontSize:"12px","margin-top":"30px","margin-bottom":"10px"},textFieldOfSecondDivAboveDivider:{width:"70%"},startButton:{width:"30%",fontSize:"13px",position:"relative",fontWeight:"bold",top:"130px","background-color":"#F78104",color:"white",padding:"13px"},loginButton:{color:"#F78104","text-decoration":"none"},title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},signupDescription:{position:"relative",top:"70px","padding-right":"60px","padding-left":"60px",fontWeight:"normal",color:"#808080",fontSize:"13px"},gmailSignup:{width:"50%",fontSize:"13px",position:"relative",fontWeight:"bold",top:"130px","background-color":"#F78104",color:"white",padding:"13px"},belowDividerStepTwo:{position:"relative",top:"40px"},buttonbelowDividerStepTwo:{color:"#F78104"}}},C=a(13),N=a.n(C),k=a(19),j=a(41),_=a(14),S=a.n(_),O={authenticateUser:function(e){return fetch("/api/google/authentication?code=".concat(e)).then(function(e){if(console.log(e),200===e.status)return e.json({});throw Error("Couldn't authenticate user with Google")}).catch(function(e){console.log(e.message)})},isTokenAuthenticated:function(e){return fetch("/api/google/jwtToken?token=".concat(e)).then(function(e){if(200===e.status)return e.json({});throw Error("Token is not authenticated")}).catch(function(e){console.log(e.message)})},getAvailability:function(e){var t=Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&");return fetch("/api/google/availability?".concat(t)).then(function(e){if(200===e.status||404===e.status)return e.json({});throw Error("Couldn't get user's availability")}).catch(function(e){console.log(e.message)})}};var T=function(e){function t(){return(t=Object(k.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.code),!t.code){e.next=11;break}return e.next=4,O.authenticateUser(t.code);case 4:a=e.sent,console.log(a),localStorage.setItem("googleEmail",a.email),localStorage.setItem("jwtToken",a.jwtToken),a.isNewUser?window.location="".concat(a.calendarUrl,"/profile_setting/timezone"):window.location="".concat(a.calendarUrl),e.next=12;break;case 11:console.log(t);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}return i.a.createElement(j.GoogleLogin,{clientId:"871373961261-rjej65g97dc3o6jiuflq6s2gp5v9ptut.apps.googleusercontent.com",buttonText:e.loginText,onSuccess:function(e){return t.apply(this,arguments)},onFailure:function(e){alert("Failed to log in")},cookiePolicy:"single_host_origin",scope:"https://www.googleapis.com/auth/calendar.events",responseType:"code",accessType:"offline",redirectUri:"http://localhost:3000",className:e.className})};var F=Object(D.a)(y)(function(e){var t=Object(n.useState)({step:1,email:""}),a=Object(h.a)(t,2),o=a[0],r=a[1],l=e.classes;return i.a.createElement("div",null,i.a.createElement("div",{className:l.title},i.a.createElement("div",{style:{color:"#F78104"}},"calend"),"App"),1===o.step&&i.a.createElement("div",{className:l.signupContainer},i.a.createElement("div",{className:l.aboveDivider},i.a.createElement("div",{className:l.firstDivAboveDivider},"Sign up with CalendApp"),i.a.createElement("div",{className:l.secondDivAboveDivider},i.a.createElement("div",{className:l.firstDivOfSecondDivAboveDivider},"Enter your e-mail to get started"),i.a.createElement(x.a,{className:l.textFieldOfSecondDivAboveDivider,label:"E-mail address",variant:"outlined",onChange:function(e){return r(Object(b.a)({},o,{email:e.target.value}))}})),i.a.createElement(E.a,{className:l.startButton,onClick:function(){return r(Object(b.a)({},o,{step:2}))}},"Get started")),i.a.createElement(w.a,null),i.a.createElement("div",{className:l.belowDivider},"Already have an account?",i.a.createElement(v.b,{className:l.loginButton,to:{pathname:"/login"}},"Log in"))),2===o.step&&i.a.createElement("div",{className:l.signupContainer},i.a.createElement("div",{className:l.aboveDivider},i.a.createElement("div",{className:l.firstDivAboveDivider},"Hi ",o.email),i.a.createElement("div",{className:l.signupDescription},"The easist way for you to sign up is with Google. This will automatically connect your calendar so you can start using CalendarApp right away!"),i.a.createElement(T,{className:l.gmailSignup,loginText:"Sign up with Google",source:"Signup"})),i.a.createElement(w.a,null),i.a.createElement("div",{className:l.belowDividerStepTwo},"Prefer to create an account with a password?",i.a.createElement(E.a,{className:l.buttonbelowDividerStepTwo,onClick:function(){return r({step:1,email:""})}},"Click here"))))}),A=function(e){return{title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},signupContainer:{margin:"auto",width:"400px",height:"480px","-webkit-box-shadow":"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},aboveDivider:{position:"relative",height:"75%"},belowDivider:{position:"relative",top:"40px"},firstDivAboveDivider:{fontSize:"20px",position:"relative",top:"40px"},secondDivAboveDivider:{position:"relative",top:"70px"},firstDivOfSecondDivAboveDivider:{fontSize:"12px","margin-top":"30px","margin-bottom":"10px"},textFieldOfSecondDivAboveDivider:{width:"70%"},startButton:{width:"30%",fontSize:"13px",position:"relative",fontWeight:"bold",top:"130px","background-color":"#F78104",color:"white",padding:"13px"},signupButton:{color:"#F78104","text-decoration":"none"},gmailSignup:{width:"50%",fontSize:"13px",position:"relative",fontWeight:"bold",top:"130px","background-color":"#F78104",color:"white",padding:"13px"},belowDividerStepTwo:{position:"relative",top:"40px"},buttonbelowDividerStepTwo:{color:"#F78104","text-decoration":"none"}}};var U=Object(D.a)(A)(function(e){var t,a=Object(n.useState)({step:1,email:""}),o=Object(h.a)(a,2),r=o[0],l=o[1],c=e.classes;return Object(n.useEffect)(function(){(t=localStorage.getItem("googleEmail"))&&l({step:2,email:t})},[]),i.a.createElement("div",null,i.a.createElement("div",{className:c.title},i.a.createElement("div",{style:{color:"#F78104"}},"calend"),"App"),1===r.step&&i.a.createElement("div",{className:c.signupContainer},i.a.createElement("div",{className:c.aboveDivider},i.a.createElement("div",{className:c.firstDivAboveDivider},"Sign up with CalendApp"),i.a.createElement("div",{className:c.secondDivAboveDivider},i.a.createElement("div",{className:c.firstDivOfSecondDivAboveDivider},"Enter your e-mail to get started"),i.a.createElement(x.a,{className:c.textFieldOfSecondDivAboveDivider,label:"E-mail address",variant:"outlined",onChange:function(e){return l(Object(b.a)({},r,{email:e.target.value}))}})),i.a.createElement(E.a,{className:c.startButton,onClick:function(){return l(Object(b.a)({},r,{step:2}))}},"Continue")),i.a.createElement(w.a,null),i.a.createElement("div",{className:c.belowDivider},"Don't have account?",i.a.createElement(v.b,{className:c.signupButton,to:{pathname:"/"}},"Sign up"))),2===r.step&&i.a.createElement("div",{className:c.signupContainer},i.a.createElement("div",{className:c.aboveDivider},i.a.createElement("div",{className:c.firstDivAboveDivider},"Welcome back",i.a.createElement("br",null),r.email),i.a.createElement(T,{className:c.gmailSignup,loginText:"Login with Google",source:"Login"})),i.a.createElement(w.a,null),i.a.createElement("div",{className:c.belowDividerStepTwo},"Don't have an account?",i.a.createElement(v.b,{className:c.buttonbelowDividerStepTwo,to:{pathname:"/"}},"Sign up"))))}),z=i.a.createContext({user:"",isAuthenticated:!0}),W=a(98),L=a.n(W),P=a(202),B=a(228),H=a(221),I=a(229),R=function(e){return{title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},timezoneContainer:{margin:"auto",width:"700px",height:"480px","-webkit-box-shadow":"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},aboveDivder:{position:"relative",height:"20%",display:"flex"},belowDivider:{position:"relative",height:"80%"},aboveDivider_firstDiv:{position:"relative",width:"50%"},aboveDivider_secondDiv:{position:"relative",width:"50%",display:"flex",justifyContent:"flex-start"},aboveDivider_firstDiv_p:{position:"relative",top:"20%"},aboveDivider_secondDiv_firstDiv:{position:"relative",width:"266px",height:"10px",top:"40%",left:"10%","background-color":"lightgray","border-radius":"25px"},aboveDivider_secondDiv_firstDiv_divs:{position:"relative",height:"100%",width:"30%","background-color":"#F78104","border-radius":"25px"},belowDivider_firstDiv:{position:"relative",height:"25%",display:"flex",justifyContent:"center"},belowDivider_firstDiv_firstDiv:{position:"relative",width:"40%","padding-top":"35px"},belowDivider_firstDiv_secondDiv:{position:"relative",width:"60%",display:"flex",justifyContent:"start","padding-top":"20px"},belowDivider_firstDiv_secondDiv_textFieldWrapper:{display:"flex",position:"relative",width:"90%",height:"50px",border:"1px solid #C4C4C4","border-radius":"5px","& p":{width:"40%",color:"gray"}},belowDivider_firstDiv_secondDiv_textFieldWrapper_TextField:{position:"relative",top:"4px",left:"10px"},belowDivider_secondDiv:{position:"relative",height:"25%",display:"flex",justifyContent:"center"},belowDivider_secondDiv_firstDiv:{position:"relative",width:"40%","padding-top":"35px"},belowDivider_secondDiv_secondDiv:{position:"relative",width:"60%",display:"flex",justifyContent:"start","padding-top":"20px"},belowDivider_secondDiv_secondDiv_FormControl:{position:"relative",width:"30%"},belowDivider_firstDiv_secondDiv_FormControl:{position:"relative",width:"60%"},belowDivider_thirdDiv:{position:"relative",height:"50%"},belowDivider_thirdDiv_continueButton:{width:"30%",fontSize:"13px",position:"relative",fontWeight:"bold",top:"80px","background-color":"#F78104",color:"white",padding:"13px"}}};var M=Object(D.a)(R)(function(e){var t=Object(n.useContext)(z),a=t.isAuthenticated,o=t.user;localStorage.getItem("jwtToken")||a||(window.location="/");var r=L.a.tz.guess();console.log(r);var l=e.classes,c=i.a.useState({calendarUrl:o.calendarUrl,timezone:r}),s=Object(h.a)(c,2),d=s[0],m=s[1],u=i.a.useState(window.location.pathname.replace("timezone","confirm")),p=Object(h.a)(u,2),f=p[0];return p[1],i.a.createElement("div",null,i.a.createElement("div",{className:l.title},i.a.createElement("div",{style:{color:"#F78104"}},"calend"),"App"),i.a.createElement("div",{className:l.timezoneContainer},i.a.createElement("div",{className:l.aboveDivder},i.a.createElement("div",{className:l.aboveDivider_firstDiv},i.a.createElement("p",{className:l.aboveDivider_firstDiv_p},"Welcome to CalendApp!")),i.a.createElement("div",{className:l.aboveDivider_secondDiv},i.a.createElement("div",{className:l.aboveDivider_secondDiv_firstDiv},i.a.createElement("div",{className:l.aboveDivider_secondDiv_firstDiv_divs})))),i.a.createElement(w.a,null),i.a.createElement("div",{className:l.belowDivider},i.a.createElement("div",{className:l.belowDivider_firstDiv},i.a.createElement("div",{className:l.belowDivider_firstDiv_firstDiv},"Create your calendApp URL :"," "),i.a.createElement("div",{className:l.belowDivider_firstDiv_secondDiv},i.a.createElement("div",{className:l.belowDivider_firstDiv_secondDiv_textFieldWrapper},i.a.createElement("p",null,"calendapp.com/"),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement(x.a,{defaultValue:o.calendarUrl,placeholder:o.calendarUrl,className:l.belowDivider_firstDiv_secondDiv_textFieldWrapper_TextField,InputProps:{disableUnderline:!0,style:{fontSize:"18px",font:"Arial, Helvetica, sans-serif"}},onChange:function(e){m({calendarUrl:e.target.value,timezone:d.timezone})},margin:"dense",size:"medium"})))),i.a.createElement("div",{className:l.belowDivider_secondDiv},i.a.createElement("div",{className:l.belowDivider_secondDiv_firstDiv},"Select your time zone :"," "),i.a.createElement("div",{className:l.belowDivider_secondDiv_secondDiv},i.a.createElement(P.a,{variant:"outlined",className:l.belowDivider_secondDiv_secondDiv_FormControl},i.a.createElement(B.a,null,"Time Zone"),i.a.createElement(H.a,{onChange:function(e){m({calendarUrl:d.calendarUrl,timezone:e.target.value})},value:r},i.a.createElement(I.a,{value:r},r),i.a.createElement(I.a,{value:"UTC-7 PDT"},"UTC-7 PDT"),i.a.createElement(I.a,{value:"UTC-6 MDT"},"UTC-6 MDT"),i.a.createElement(I.a,{value:"UTC-5 CDT"},"UTC-5 CDT"),i.a.createElement(I.a,{value:"UTC-4 EDT"},"UTC-4 EDT"),i.a.createElement(I.a,{value:"UTC-3 ADT"},"UTC-3 ADT"))))),i.a.createElement("div",{className:l.belowDivider_thirdDiv},i.a.createElement(v.b,{onClick:function(e){""!==d.calendarUrl&&""!==d.timezone||(e.preventDefault(),alert("Please make sure all fields have a value"),window.location.reload()),S.a.get("http://localhost:3001/user/is_unique",{params:{calendarUrl:d.calendarUrl}}).then(function(e){console.log(e.data,d.calendarUrl)}).catch(function(t){e.preventDefault(),"this url is not unique"===t.response.data.message?(console.log(t.response.data.message),alert("This url is taken, try a new one"),window.location.reload()):(alert("Something went wrong"),window.location.reload())})},to:{pathname:f,users:d},style:{textDecoration:"none"}},i.a.createElement(E.a,{className:l.belowDivider_thirdDiv_continueButton},"Continue"))))))}),G=function(e){return{title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},timezoneContainer:{margin:"auto",width:"700px",height:"480px","-webkit-box-shadow":"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},aboveDivder:{position:"relative",height:"20%",display:"flex"},belowDivider:{"padding-left":"50px","padding-right":"50px",position:"relative",height:"80%"},aboveDivider_firstDiv:{position:"relative",width:"50%"},aboveDivider_secondDiv:{position:"relative",width:"50%",display:"flex",justifyContent:"flex-start"},aboveDivider_firstDiv_p:{position:"relative",top:"20%"},aboveDivider_secondDiv_firstDiv:{position:"relative",width:"266px",height:"10px",top:"40%",left:"10%","background-color":"lightgray","border-radius":"25px"},aboveDivider_secondDiv_firstDiv_divs:{position:"relative",height:"100%",width:"60%","background-color":"#F78104","border-radius":"25px"},belowDivider_firstDiv:{position:"relative",height:"18%","text-align":"left",top:"30px"},belowDivider_secondDiv:{position:"relative",height:"18%","& div":{fontWeight:"normal",position:"relative",width:"80%",top:"20px"},display:"flex","text-align":"left","padding-left":"30px"},belowDivider_thirdDiv:{position:"relative",height:"18%","& div":{fontWeight:"normal",position:"relative",width:"80%",top:"20px"},display:"flex","text-align":"left","padding-left":"30px"},belowDivider_fourthDiv:{position:"relative",height:"46%"},belowDivider_secondDiv_button:{position:"relative",width:"20%",height:"100%"},belowDivider_fourthDiv_continueButton:{width:"30%",fontSize:"13px",position:"relative",fontWeight:"bold",top:"80px","background-color":"#F78104",color:"white",padding:"13px"}}};var Z=Object(D.a)(G)(function(e){var t=Object(n.useContext)(z),a=t.isAuthenticated,o=t.user;localStorage.getItem("jwtToken")||a||(window.location="/");var r=e.classes,l=i.a.useState({next:window.location.pathname.replace("confirm","availability"),prev:window.location.pathname.replace("confirm","timezone")}),c=Object(h.a)(l,2),s=c[0];c[1],"undefined"===typeof e.location.users&&(alert("Missing information redirecting"),window.location=s.prev);var d=i.a.useState(e.location.users),m=Object(h.a)(d,1)[0];return i.a.createElement("div",null,i.a.createElement("div",{className:r.title},i.a.createElement("div",{style:{color:"#F78104"}},"calend"),"App"),i.a.createElement("div",{className:r.timezoneContainer},i.a.createElement("div",{className:r.aboveDivder},i.a.createElement("div",{className:r.aboveDivider_firstDiv},i.a.createElement("p",{className:r.aboveDivider_firstDiv_p},"Your Google Calendar is Connected!")),i.a.createElement("div",{className:r.aboveDivider_secondDiv},i.a.createElement("div",{className:r.aboveDivider_secondDiv_firstDiv},i.a.createElement("div",{className:r.aboveDivider_secondDiv_firstDiv_divs})))),i.a.createElement(w.a,null),i.a.createElement("div",{className:r.belowDivider},i.a.createElement("div",{className:r.belowDivider_firstDiv},"Here is how CalendApp will work with ",o.email," :"," "),i.a.createElement(w.a,null),i.a.createElement("div",{className:r.belowDivider_secondDiv},i.a.createElement("div",null,'1. We will check "',i.a.createElement("b",null,o.email),'" for conflicts'),i.a.createElement(E.a,{className:r.belowDivider_secondDiv_button},"Edit")),i.a.createElement(w.a,null),i.a.createElement("div",{className:r.belowDivider_thirdDiv},i.a.createElement("div",null,'2. We will add event to "',i.a.createElement("b",null,o.email),'"'),i.a.createElement(E.a,{className:r.belowDivider_secondDiv_button},"Edit")),i.a.createElement(w.a,null),i.a.createElement("div",{className:r.belowDivider_fourthDiv},i.a.createElement(v.b,{to:{pathname:s.next,users:m},style:{textDecoration:"none"}},i.a.createElement(E.a,{className:r.belowDivider_fourthDiv_continueButton},"Continue"))))))}),J=a(204),q=a(224),V=a(50),Y=function(e){return{title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},timezoneContainer:{margin:"auto",width:"700px",height:"480px","-webkit-box-shadow":"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},aboveDivder:{position:"relative",height:"20%",display:"flex"},belowDivider:{position:"relative",height:"80%"},aboveDivider_firstDiv:{position:"relative",width:"50%"},aboveDivider_secondDiv:{position:"relative",width:"50%",display:"flex",justifyContent:"flex-start"},aboveDivider_firstDiv_p:{position:"relative",top:"20%"},aboveDivider_secondDiv_firstDiv:{position:"relative",width:"266px",height:"10px",top:"40%",left:"10%","background-color":"lightgray","border-radius":"25px"},aboveDivider_secondDiv_firstDiv_divs:{position:"relative",height:"100%",width:"90%","background-color":"#F78104","border-radius":"25px"},belowDivider_firstDiv:{position:"relative",height:"30%","padding-left":"50px","text-align":"left"},belowDivider_secondDiv:{position:"relative",height:"30%","padding-left":"50px","padding-right":"95px","text-align":"left"},belowDivider_thirdDiv:{position:"relative",height:"40%"},belowDivider_thirdDiv_continueButton:{width:"30%",fontSize:"13px",position:"relative",fontWeight:"bold",top:"10px","background-color":"#F78104",color:"white",padding:"13px"},belowDivider_firstDiv_form:{display:"flex","& *":{"margin-right":"10px"},"& p":{"text-align":"left",width:"30px"}},belowDivider_secondDiv_secondDiv:{display:"flex",border:"1px solid lightgray",justify_content:"space-around","& div":{}}}};var $=Object(D.a)(Y)(function(e){var t=Object(n.useContext)(z),a=t.user,o=t.isAuthenticated;localStorage.getItem("jwtToken")||o||(window.location="/");var r=e.classes,l=i.a.useState({prev:window.location.pathname.replace("availability","timezone"),calendarUrl:window.location.pathname.replace("/profile_setting/availability","").replace("/","")}),c=Object(h.a)(l,1)[0];"undefined"===typeof e.location.users&&(alert("Missing information redirecting"),window.location=c.prev);var s=i.a.useState({timeZone:e.location.users.timezone,availableHoursFrom:"",availableHoursTo:"",availableDays:[],calendarUrl:e.location.users.calendarUrl}),d=Object(h.a)(s,2),m=d[0],u=d[1];function v(e){console.log(e.target.value),u({timeZone:m.timeZone,availableHoursFrom:m.availableHoursFrom,availableHoursTo:m.availableHoursTo,availableDays:p(e.target.value),calendarUrl:m.calendarUrl})}function p(e){if(m.availableDays.includes(e)){var t=m.availableDays.indexOf(e);m.availableDays.splice(t,1)}else m.availableDays.push(e);return m.availableDays}return console.log(m,c.calendarUrl),i.a.createElement("div",null,i.a.createElement("div",{className:r.title},i.a.createElement("div",{style:{color:"#F78104"}},"calend"),"App"),i.a.createElement("div",{className:r.timezoneContainer},i.a.createElement("div",{className:r.aboveDivder},i.a.createElement("div",{className:r.aboveDivider_firstDiv},i.a.createElement("p",{className:r.aboveDivider_firstDiv_p},"Set your availability")),i.a.createElement("div",{className:r.aboveDivider_secondDiv},i.a.createElement("div",{className:r.aboveDivider_secondDiv_firstDiv},i.a.createElement("div",{className:r.aboveDivider_secondDiv_firstDiv_divs})))),i.a.createElement(w.a,null),i.a.createElement("div",{className:r.belowDivider},i.a.createElement("div",{className:r.belowDivider_firstDiv},i.a.createElement("p",null,"Available Hours :"),i.a.createElement("form",{className:r.belowDivider_firstDiv_form,noValidate:!0},i.a.createElement(x.a,{variant:"outlined",type:"time",onChange:function(e){console.log("Users",m.timeZone),u({timeZone:m.timeZone,availableHoursFrom:e.target.value,availableHoursTo:m.availableHoursTo,availableDays:m.availableDays,calendarUrl:m.calendarUrl}),console.log("Users",m)},className:r.textField,InputLabelProps:{shrink:!0},inputProps:{step:300}}),i.a.createElement("p",null," ~ "),i.a.createElement(x.a,{variant:"outlined",type:"time",onChange:function(e){u({timeZone:m.timeZone,availableHoursFrom:m.availableHoursFrom,availableHoursTo:e.target.value,availableDays:m.availableDays,calendarUrl:m.calendarUrl})},className:r.textField,InputLabelProps:{shrink:!0},inputProps:{step:300}}))),i.a.createElement("div",{className:r.belowDivider_secondDiv},i.a.createElement("p",null,"Available Days : "),i.a.createElement("div",{className:r.belowDivider_secondDiv_secondDiv},i.a.createElement("div",null,i.a.createElement(J.a,{value:"bottom",control:i.a.createElement(q.a,{value:"Sundays",onChange:v,color:"#F78104"}),label:i.a.createElement(V.a,{style:{"font-size":"12px"}},"Sunday"),labelPlacement:"bottom"})),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",null,i.a.createElement(J.a,{value:"bottom",control:i.a.createElement(q.a,{value:"Mondays",onChange:v,color:"#F78104"}),label:i.a.createElement(V.a,{style:{"font-size":"12px"}},"Monday"),labelPlacement:"bottom"})),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",null,i.a.createElement(J.a,{value:"bottom",control:i.a.createElement(q.a,{value:"Tuesdays",onChange:v,color:"#F78104"}),label:i.a.createElement(V.a,{style:{"font-size":"12px"}},"Tuesday"),labelPlacement:"bottom"})),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",null,i.a.createElement(J.a,{value:"bottom",control:i.a.createElement(q.a,{value:"Wednesdays",onChange:v,color:"#F78104"}),label:i.a.createElement(V.a,{style:{"font-size":"12px"}},"Wednesday"),labelPlacement:"bottom"})),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",null,i.a.createElement(J.a,{value:"bottom",control:i.a.createElement(q.a,{value:"Thursdays",onChange:v,color:"#F78104"}),label:i.a.createElement(V.a,{style:{"font-size":"12px"}},"Thursday"),labelPlacement:"bottom"})),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",null,i.a.createElement(J.a,{value:"bottom",control:i.a.createElement(q.a,{value:"Fridays",onChange:v,color:"#F78104"}),label:i.a.createElement(V.a,{style:{"font-size":"12px"}},"Friday"),labelPlacement:"bottom"})),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",null,i.a.createElement(J.a,{value:"Saturdays",control:i.a.createElement(q.a,{value:"Saturdays",onChange:v,color:"#F78104"}),label:i.a.createElement(V.a,{style:{"font-size":"12px"}},"Saturday"),labelPlacement:"bottom"})))),i.a.createElement("div",{className:r.belowDivider_thirdDiv},i.a.createElement(E.a,{onClick:function(e){e.preventDefault(),console.log(a._id),""!==m.availableHoursFrom&&""!==m.availableHoursTo||(alert("Please make sure all fields have a value"),window.location=c.prev),S.a.put("http://localhost:3001/user/".concat(a._id),m).then(function(e){console.log(e.data),console.log(c.calendarUrl,m.calendarUrl),window.location="/"+m.calendarUrl}).catch(function(e){return console.log("Error: "+e)})},className:r.belowDivider_thirdDiv_continueButton},"Finish")))))}),K=a(208),Q=a(206),X=a(207),ee=a(230),te=a(205),ae=a(99),ne=a.n(ae),ie="871373961261-rjej65g97dc3o6jiuflq6s2gp5v9ptut.apps.googleusercontent.com";var oe=function(){return Object(j.useGoogleLogout)({clientId:ie}).loaded,i.a.createElement(i.a.Fragment,null,i.a.createElement(te.a,{onClick:function(){var e=window.gapi;if(e){var t=e.auth2.getAuthInstance();null!=t&&t.signOut().then(function(e){console.log("User signed out.")})}localStorage.removeItem("jwtToken"),window.location="/login"}},i.a.createElement(ne.a,null)))},re=Object(K.a)(function(e){return{AppBar:{background:"#ffffff"},titleFirst:{fontSize:20,fontWeight:600,color:"#F78104",textTransform:"lowercase"},titleSecond:{fontSize:20,fontWeight:600,color:"black",textTransform:"lowercase"},links:{flexGrow:1,textAlign:"right"},link:{color:"black",marginRight:10,fontWeight:500,textDecoration:"none","&:hover":{color:"#F78104"},"&:active":{color:"#F78104"}},avatar:{marginLeft:40,width:e.spacing(3),height:e.spacing(3)},userName:{fontSize:15,fontWeight:500,marginRight:10,marginLeft:10,color:"black"}}}),le=function(){var e=Object(n.useContext)(z).user,t=re(),a=Object(n.useState)(window.location.pathname),o=Object(h.a)(a,2),r=o[0];o[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Q.a,{position:"static"},i.a.createElement(X.a,{className:t.AppBar},i.a.createElement(V.a,{varient:"title",className:t.titleFirst},"calend"),i.a.createElement(V.a,{varient:"title",className:t.titleSecond},"app"),i.a.createElement("nav",{className:t.links},i.a.createElement(v.c,{to:"/home",activeClassName:"selected",activeStyle:{color:"#F78104"},className:t.link},"Home"),i.a.createElement(v.c,{to:"/integration",activeClassName:"selected",activeStyle:{color:"#F78104"},className:t.link},"Integration"),i.a.createElement(v.c,{to:r+"/upgrade",activeClassName:"selected",activeStyle:{color:"#F78104"},className:t.link},"Update account")),i.a.createElement(ee.a,{alt:"John Doe",src:e.avatarUrl,className:t.avatar}),i.a.createElement(V.a,{className:t.userName},e.name),i.a.createElement(oe,null))))},ce=a(213),se=a(214),de=a(215),me=a(216),ue=a(217),ve=a(225),pe=a(209),fe=a(212),ge=a(210),be=a(211);var he=Object(K.a)(function(e){return{DialogContent:{display:"flex","& *":{"margin-left":"5px","margin-right":"5px"}},meetingURL:{display:"flex","& p":{"font-size":"15px","margin-right":"10px"}},buttonClicked:{backgroundColor:"#C4C4C4"},buttonGroup:{"& button:hover":{backgroundColor:"#C4C4C4"}}}}),xe=function(e){var t=he(),a=i.a.useState(15),n=Object(h.a)(a,2),o=n[0],r=n[1],l=i.a.useState(""),c=Object(h.a)(l,2),s=c[0],d=c[1],m=i.a.useState(""),u=Object(h.a)(m,2),v=u[0],p=u[1],f=i.a.useState(""),g=Object(h.a)(f,2),b=g[0],w=g[1];function D(e){r(e)}return i.a.createElement(ve.a,{open:e.open,maxWidth:"sm",fullWidth:!0},i.a.createElement(pe.a,{id:"form-dialog-title"},"Create Event"),i.a.createElement(ge.a,null,i.a.createElement(be.a,{className:t.buttonGroup},i.a.createElement(E.a,{className:15===o?t.buttonClicked:null,onClick:function(){return D(15)}},"15 min"),i.a.createElement(E.a,{className:30===o?t.buttonClicked:null,onClick:function(){return D(30)}},"30 min"),i.a.createElement(E.a,{className:60===o?t.buttonClicked:null,onClick:function(){return D(60)}},"60 min")),i.a.createElement(x.a,{label:"Don't add name",margin:"dense",id:"name",size:"medium",fullWidth:!0,variant:"outlined",onChange:function(e){var t=e.target.value;d(t)}}),i.a.createElement(x.a,{label:"Don't add Description",margin:"dense",id:"description",size:"medium",fullWidth:!0,variant:"outlined",multiline:!0,rows:4,onChange:function(e){var t=e.target.value;p(t)}}),i.a.createElement("div",{className:t.meetingURL},i.a.createElement("p",null,"calendapp.com ",window.location.pathname),i.a.createElement(x.a,{id:"url",margin:"dense",variant:"outlined",onChange:function(e){var t=e.target.value;w(t)}}))),i.a.createElement(fe.a,null,i.a.createElement(E.a,{onClick:function(){e.create(o,s,v,b),window.location.reload()}},"Create"),i.a.createElement(E.a,{onClick:e.close,color:"primary"},"Cancel")))},Ee={createMeeting:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/meeting",a={method:"POST",url:"/meeting",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",authenticate:localStorage.getItem("jwtToken")},data:t},e.next=4,S()(a);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},we=a(100),De=a.n(we),ye=Object(K.a)(function(e){return{container:{background:"#ffffff",flexGrow:1,marginTop:10,"-webkit-box-shadow":"0px 5px 0px 0px rgba(196,196,196,0.5)"},container2:{background:"transparent",marginLeft:60,marginTop:30,marginBottom:30},button:{background:"#ffffff",flexGrow:1,textAlign:"right",textTransform:"none",color:"#F78104",borderColor:"#F78104","&:hover":{background:"#F78104",color:"white"}},title:{fontSize:20,fontWeight:500,marginTop:40,marginLeft:80,color:"black"},link:{color:"black",marginRight:30,marginTop:30,fontWeight:500,textTransform:"uppercase",textDecoration:"none",paddingBottom:3,"&:hover":{color:"#F78104",borderBottom:"5px solid #808080"}},avatar:{width:e.spacing(3),height:e.spacing(3)},card:{"-webkit-box-shadow":"1px 1px 10px 3px rgba(196,196,196,1)","&:hover":{"-webkit-box-shadow":"5px 5px 10px 3px rgba(196,196,196,1)"}},userName:{fontSize:15,fontWeight:500,color:"black"},dividerTop:{height:7,width:"100%"},dividerInCardContent:{margin:"30px 10px 10px 15px"}}}),Ce=function(){var e=Object(n.useContext)(z).user,t=ye(),a=Object(n.useState)(window.location.pathname.replace("/","")),o=Object(h.a)(a,2),r=o[0],l=(o[1],Object(n.useState)("")),c=Object(h.a)(l,2),s=c[0],d=c[1],m=Object(n.useState)([]),u=Object(h.a)(m,2),p=u[0],f=u[1];console.log(e),Object(n.useEffect)(function(){S.a.get("/user/findUser",{params:{calendarUrl:r}}).then(function(e){console.log(e.data._id),d(e.data._id)}).catch(function(e){return console.log("Error: "+e)}),S.a.get("/meeting/",{params:{id:e._id}}).then(function(e){console.log(e.data),f(e.data.meetingList)}).catch(function(e){return console.log("Error: "+e)})},[s]);var g=i.a.useState(!1),b=Object(h.a)(g,2),x=b[0],D=b[1],y=function(){var e=Object(k.a)(N.a.mark(function e(t,a,n,i){var o,r,l,c,d;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={duration:t,userId:s,eventURL:i},e.next=3,Ee.createMeeting(o);case 3:r=e.sent,l=r.data,c=l.eventUrlExist,d=l.message,c?alert(d):D(!1);case 6:case"end":return e.stop()}},e)}));return function(t,a,n,i){return e.apply(this,arguments)}}(),C=function(){var e=["#90EE90","#FFA07A","#FFB6C1","#ff5050","#00cc99","#ffff66","red","black","green","blue","#cc0099"];return e[Math.floor(Math.random()*e.length)]};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{background:"#EBF4FA"}},i.a.createElement("div",{className:t.container},i.a.createElement(V.a,{varient:"title",className:t.title},"My calendapp"),i.a.createElement(V.a,{style:{marginLeft:80,marginTop:20}},i.a.createElement(v.c,{to:"/eventtypes",activeClassName:"selected",activeStyle:{color:"#F78104",borderBottom:"5px solid #F78104"},className:t.link},"EVENT TYPES"),i.a.createElement(v.c,{to:"/scheduledevents",activeClassName:"selected",className:t.link,activeStyle:{color:"#F78104",borderBottom:"5px solid #F78104"}},"SCHEDULED EVENTS"))),i.a.createElement(ce.a,{maxWidth:"md",component:"main",className:t.container2},i.a.createElement(se.a,{item:!0,xs:12},i.a.createElement(ee.a,{alt:"John Doe",src:e.avatarUrl,className:t.avatar,style:{display:"inline-block",height:35,width:35}}),i.a.createElement("div",{style:{display:"inline-block",marginLeft:20}},i.a.createElement(V.a,{className:t.userName},e.name),i.a.createElement(V.a,null,"calendapp/",e.calendarUrl)),i.a.createElement(E.a,{style:{display:"inline-block",marginLeft:30,verticalAlign:"bottom"},variant:"outlined",className:t.button,href:"#",onClick:function(){D(!0)}},"+ New event type"))),i.a.createElement("hr",{style:{width:"90%",marginBottom:20}}),i.a.createElement(ce.a,{component:"main"},i.a.createElement(se.a,{container:!0,spacing:5,alignItems:"flex-end"},p.map(function(e){return i.a.createElement(se.a,{item:!0,key:e.eventURL,xs:12,sm:6,md:4,lg:3},i.a.createElement(de.a,{className:t.card},i.a.createElement(me.a,{style:{margin:0,padding:0}},i.a.createElement("div",{className:t.dividerTop,style:{background:C()}}),i.a.createElement(V.a,{component:"h6",variant:"h5",color:"textPrimary",style:{textAlign:"center",paddingTop:20,textTransform:"uppercase"}},e.eventURL),i.a.createElement(w.a,{className:t.dividerInCardContent}),i.a.createElement("div",{style:{display:"block",position:"relative"}},i.a.createElement(ue.a,{style:{display:"inline-block"},title:e.duration+" min "}),i.a.createElement(E.a,{onClick:function(){return t=e.eventURL,De()(window.location+"/"+t),void alert("Copied");var t},style:{display:"inline-block",position:"absolute",right:5,marginTop:15},variant:"outlined",className:t.button},"COPY LINK")))))}))),!0===x&&i.a.createElement(xe,{open:x,close:function(){D(!1)},create:y})))};var Ne=function(){var e=Object(n.useContext)(z).isAuthenticate;return localStorage.getItem("jwtToken")||e||(window.location="/"),i.a.createElement("div",null,i.a.createElement(le,null),i.a.createElement(Ce,null))},ke=a(219),je=a(64),_e=a.n(je),Se={checkLink:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/meeting/meetingcheck",a={method:"POST",url:"/meeting/meetingcheck",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:t},e.next=4,S()(a);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getHostAvailableDay:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3001/meeting/getHostAvailableDay",a={method:"POST",url:"http://localhost:3001/meeting/getHostAvailableDay",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:t},e.next=4,S()(a);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Oe=Object(K.a)(function(e){return{container:{margin:"auto","& > div":{fontSize:"20px"}}}}),Te=function(e){var t=Oe();return i.a.createElement("div",{className:t.container},i.a.createElement("div",null,"URL IS WRONG"))},Fe=a(218),Ae=a(222),Ue=function(e){var t=e.className,a=e.onClick,n=e.children;return i.a.createElement("div",{className:t,onClick:a,children:n})},ze=Object(K.a)(function(e){return{button:{width:"100%","& *":{"font-size":"18px"},"border-color":"#F77102"},root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"100%",width:"100%"},tabs:{width:"100%"},tabNotClicked:{width:"100%",margin:"5px",fontSize:"20px",border:"1px solid #F77102",color:"#F77102","border-radius":"5px",transition:"width 0.3s"},tabClicked:{"margin-left":"0px",width:"60%",margin:"5px",fontSize:"20px",border:"1px solid gray",color:"white","border-radius":"5px",backgroundColor:"gray",transition:"width 0.3s"},confirmButtonActive:{border:"1px solid #F77102",backgroundColor:"#F77102",fontSize:"15px",width:"35%",height:"100%",padding:"11px",color:"white","&:hover":{border:"1px solid #F79000",backgroundColor:"#F79000"},transition:"width 0.3s"},confirmButtonNotActive:{width:"0px",transition:"width 0.3s"}}}),We=function(e){var t=ze(),a=i.a.useState(""),n=Object(h.a)(a,2),o=n[0],r=n[1],l=i.a.useState(),c=Object(h.a)(l,2),s=c[0],d=c[1];function m(e,t){d(e),r(t)}var u,v=[],p=function(){var a=u,n=e.availability[u];s===a?v.push(i.a.createElement(Ue,{key:u},i.a.createElement(Fe.a,{className:t.tabClicked,onClick:function(){return m(a)},key:u,label:e.availability[u]}),i.a.createElement(E.a,{key:u+100,className:t.confirmButtonActive,onClick:function(){return e.toConfirmAppointmentPage(o)}},"Confirm"))):v.push(i.a.createElement(Ue,{key:u},i.a.createElement(Fe.a,{className:t.tabNotClicked,onClick:function(){return m(a,n)},key:u,label:e.availability[u]}),i.a.createElement(E.a,{key:u+100,className:t.confirmButtonNotActive})))};for(u=0;u<e.availability.length;u++)p();return i.a.createElement("div",{className:t.root},i.a.createElement(Ae.a,{value:!1,orientation:"vertical",variant:"scrollable","aria-label":"Vertical tabs example",className:t.tabs},v))},Le=a(102),Pe=(a(154),Object(K.a)(function(e){return{container:{display:"flex",width:"100%",padding:"30px"},calendarWrapper:{position:"relative",width:"60%"},timePickerWrapper:{position:"relative",width:"40%"},reactCalendar:{border:"none","& abbr":{textDecoration:"none",width:"36px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center"},"& *":{fontSize:"15px","font-weight":"bold"}}}})),Be=function(e){var t=Pe(),a=i.a.useState(Object),o=Object(h.a)(a,2),r=o[0],l=o[1],c=i.a.useState(),s=Object(h.a)(c,2),d=(s[0],s[1]),m=Object(p.f)(),u=i.a.useState(),v=Object(h.a)(u,2),f=v[0],g=v[1],b=i.a.useState(),x=Object(h.a)(b,2),E=x[0],w=x[1],D=i.a.useState(),y=Object(h.a)(D,2),C=y[0],j=y[1],_=i.a.useState(Array),S=Object(h.a)(_,2),T=S[0],F=S[1],A=i.a.useState(new Date),U=Object(h.a)(A,2),W=U[0],L=(U[1],Object(n.useContext)(z).user);return Object(n.useEffect)(function(){!function(){var t=Object(k.a)(N.a.mark(function t(){var a,n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={calendarURL:e.userURL},t.next=3,Se.getHostAvailableDay(a);case 3:n=t.sent,console.log(n.data.hostAvailableDay),n.data.hostAvailableDay?F(n.data.hostAvailableDay):console.log("host is not available");case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]),i.a.createElement("div",{className:t.container},i.a.createElement("div",{className:t.calendarWrapper},i.a.createElement(Le.a,{view:"month",className:t.reactCalendar,tileDisabled:function(e){var t=e.date;return e.view,t.getMonth()<W.getMonth()||t.getDate()<W.getDate()&&t.getMonth()<W.getMonth()+1||T.some(function(e){return t.getDay()===e})},onChange:function(t){var a=new Date(t);d(a);var n=(a.getYear()+1900).toString(),i=("0"+(a.getMonth()+1).toString()).slice(-2),o=("0"+a.getDate().toString()).slice(-2);g(n),w(i),j(o),m.push("/".concat(e.userURL,"/").concat(e.eventURL,"?date=").concat(n,"-").concat(i,"-").concat(o));var r={calendarUrl:e.userURL,year:n,month:i,date:o,availableFrom:L.availableHoursFrom,availableTo:L.availableHoursTo,meetingLength:"".concat(e.duration,"mins"),timezone:"America/Toronto"};console.log(r),O.getAvailability(r).then(function(e){l(e)})}})),i.a.createElement("div",{className:t.timePickerWrapper},i.a.createElement(We,{availability:r,toConfirmAppointmentPage:function(t){m.push("/".concat(e.userURL,"/").concat(e.eventURL,"/confirm?date=").concat(f,"-").concat(E,"-").concat(C,"&time=").concat(t,"&eventURL=").concat(e.eventURL))}})))},He=function(){return{scheduleCalendarContainer:{display:"flex",margin:"auto",width:"1000px",height:"480px",boxShadow:"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},onTheLeftOfDivider:{position:"relative",width:"25%","& *":{fontSize:"20px","margin-top":"20px","margin-bottom":"20px"}},onTheRightOfDivider:{position:"relative",width:"75%",display:"flex"},duration:{display:"flex",justifyContent:"center"}}};var Ie=Object(D.a)(He)(function(e){var t=e.classes,a=window.location.pathname.split("/"),o=a[1],r=a[2],l=i.a.useState(""),c=Object(h.a)(l,2),s=c[0],d=c[1],m=i.a.useState(""),u=Object(h.a)(m,2),v=u[0],p=u[1],f=i.a.useState(1),g=Object(h.a)(f,2),b=g[0],x=g[1],E={calendarURL:o,eventURL:r};return Object(n.useEffect)(function(){!function(){var e=Object(k.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.checkLink(E);case 2:t=e.sent,x(t.data.isExist),t.data.isExist&&(d(t.data.hostName),p(t.data.duration));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),b?i.a.createElement("div",null,i.a.createElement("div",{className:t.title},i.a.createElement("div",{style:{color:"#F78104"}},"calend"),"App"),i.a.createElement("div",{className:t.scheduleCalendarContainer},i.a.createElement("div",{className:t.onTheLeftOfDivider},i.a.createElement("div",null,s),i.a.createElement("div",null,"Online Interview"),i.a.createElement("div",{className:t.duration},i.a.createElement(_e.a,null),i.a.createElement("div",null,v," min"))),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",{className:t.onTheRightOfDivider},i.a.createElement(Be,{userURL:o,eventURL:r,duration:v})))):"upgrade"==r?i.a.createElement("div",null):b?i.a.createElement("div",null,i.a.createElement(ke.a,null)):i.a.createElement("div",null,i.a.createElement(Te,null))}),Re=a(101),Me=a.n(Re);var Ge=Object(K.a)(function(e){return{button:{background:"#ffffff",flexGrow:1,textAlign:"right",textTransform:"none",color:"#F78104",borderColor:"#F78104","&:hover":{background:"#F78104",color:"white"}}}}),Ze=function(e){var t=Ge(),a=Object(n.useState)(window.location.pathname.replace("/upgrade","").replace("/","")),o=Object(h.a)(a,2),r=o[0],l=(o[1],Object(n.useState)({name:e.type,price:function(){switch(e.type){case"Professional":return"price_1HJrcVB2HY6qlBJzcULTCZMk";case"Premium":return"price_1HJrb4B2HY6qlBJzSdpZNoTM"}}(),calendUrl:r})),c=Object(h.a)(l,2),s=c[0];return c[1],i.a.createElement("div",null,i.a.createElement(Me.a,{stripeKey:"pk_test_51HJRdeB2HY6qlBJzpk3STRMWboVUaF8iAZ4lAimyidoWISadlONHPNhu0FWXOGSCyRN4O6erHdkVAvQrXeO1Aqpk00QbtrqfIZ",token:function(e){var t={token:e,product:s};S.a.post("/upgrade/payment",t).then(function(e){console.log("Response",e),alert(e.data),window.location.reload()}).catch(function(e){return console.log("Error: "+e)})},name:"Upgrade",amount:e.price},i.a.createElement(E.a,{variant:"outlined",align:"right",className:t.button},"Upgrade")))};var Je=Object(K.a)(function(e){return{button:{background:"#ffffff",textAlign:"right",textTransform:"none",color:"#F78104",borderColor:"#F78104","&:hover":{background:"#F78104",color:"white"}}}}),qe=function(){var e=Je(),t=Object(n.useState)(window.location.pathname.replace("/upgrade","").replace("/","")),a=Object(h.a)(t,2),o=a[0],r=(a[1],{url:o});return i.a.createElement(E.a,{variant:"outlined",align:"right",onClick:function(){S.a.post("/upgrade/delete",r).then(function(e){console.log("Response",e),alert(e.data),window.location.reload()}).catch(function(e){return console.log("Error: "+e)})},className:e.button},"Cancel subscription")},Ve=Object(K.a)(function(e){return{container:{textAlign:"center",marginBottom:30},title:{fontSize:50,fontWeight:500,color:"black"},card:{"-webkit-box-shadow":"1px 1px 10px 3px rgba(196,196,196,1)","&:hover":{"-webkit-box-shadow":"5px 5px 10px 3px rgba(196,196,196,1)"}},cardContent:{textAlign:"center"},cardLineOne:{fontSize:30,fontWeight:500},cardLineTwo:{fontSize:15,fontWeight:500,marginBottom:15},dividerInCardContent:{margin:"30px auto"},BelowDividerinCardContent:{display:"flex",textAlign:"right"}}}),Ye=function(){var e=Object(n.useContext)(z).user,t=Ve(),a=Object(n.useState)(window.location.pathname.replace("/upgrade","").replace("/","")),o=Object(h.a)(a,2),r=(o[0],o[1],Object(n.useState)("free basic plan")),l=Object(h.a)(r,2),c=l[0],s=l[1];return Object(n.useEffect)(function(){S.a.get("/upgrade/checkSubscription",{params:{calendarUrl:e.calendarUrl}}).then(function(e){console.log("Response",e.data.plan.amount),1999==e.data.plan.amount?s("professional plan"):999==e.data.plan.amount&&s("premium plan")}).catch(function(e){return console.log("Error: "+e)})}),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{background:"#EBF4FA"}},i.a.createElement(ce.a,{maxWidth:"md",component:"main"},i.a.createElement("div",{className:t.container},i.a.createElement(V.a,{component:"h3",variant:"h3",color:"textPrimary",className:t.title},"Upgrade your account"),i.a.createElement(V.a,{component:"h4",variant:"h5",color:"textPrimary"},"You are on "+c)),i.a.createElement(se.a,{container:!0,spacing:5,alignItems:"center",justify:"center"},i.a.createElement(se.a,{item:!0,key:"Premium",xs:12,sm:6,md:4},i.a.createElement(de.a,{className:t.card},i.a.createElement(me.a,{className:t.cardContent},i.a.createElement(V.a,{className:t.cardLineOne,style:{color:"#800080"}},"Premium"),i.a.createElement(V.a,{className:t.cardLineTwo,color:"textPrimary"},"$9.99/ Month"),"free basic plan"===c&&i.a.createElement(Ze,{type:"Premium",price:"999"}),"premium plan"===c&&i.a.createElement(qe,null),"professional plan"===c&&i.a.createElement("div",null,"Cancel professional plan first"),i.a.createElement(w.a,{className:t.dividerInCardContent}),i.a.createElement("div",{className:t.belowDividerinCardContent},i.a.createElement("ul",null,i.a.createElement("li",null,"60 minute meetings only"),i.a.createElement("li",null,"Unlimited appointments")))))),i.a.createElement(se.a,{item:!0,key:"Professional",xs:12,sm:6,md:4},i.a.createElement(de.a,{className:t.card},i.a.createElement(me.a,{className:t.cardContent},i.a.createElement(V.a,{className:t.cardLineOne,style:{color:"#32CD32"}},"Professional"),i.a.createElement(V.a,{className:t.cardLineTwo,color:"textPrimary"},"$19.99/ Month"),"free basic plan"===c&&i.a.createElement(Ze,{type:"Professional",price:"1999"}),"professional plan"===c&&i.a.createElement(qe,null),"premium plan"===c&&i.a.createElement("div",null,"Cancel premium plan first"),i.a.createElement(w.a,{className:t.dividerInCardContent}),i.a.createElement("div",{className:t.belowDividerinCardContent},i.a.createElement("ul",null,i.a.createElement("li",null,"Unlimited meetings"),i.a.createElement("li",null,"Unlimited appointments")))))))),i.a.createElement(se.a,{container:!0,spacing:5,alignItems:"center",justify:"center",style:{marginTop:30}})))};var $e=function(){return i.a.createElement("div",null,i.a.createElement(le,null),i.a.createElement(Ye,null))},Ke=function(){return{scheduleCalendarContainer:{display:"flex",margin:"auto",width:"1000px",height:"480px",boxShadow:"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},onTheLeftOfDivider:{position:"relative",width:"25%","& *":{fontSize:"20px","margin-top":"20px","margin-bottom":"20px"}},onTheRightOfDivider:{position:"relative",width:"75%",display:"flex"},duration:{display:"flex",justifyContent:"center"}}},Qe=Object(K.a)(function(e){return{container:{margin:"auto","& > div":{fontSize:"20px"}},confirmButton:{backgroundColor:"#F77102","margin-top":"20px",fontSize:"15px",color:"white","font-weight":"normal",padding:"13px"},textField:{"margin-top":"20px"}}}),Xe=function(e){var t=window.location.pathname.split("/"),a=Qe(),n=i.a.useState(""),o=Object(h.a)(n,2),r=o[0],l=o[1],c=i.a.useState(""),s=Object(h.a)(c,2),d=s[0],m=s[1],u=i.a.useState(t[1]),v=Object(h.a)(u,2),p=v[0];v[1];return i.a.createElement("div",{className:a.container},i.a.createElement("div",null,"Enter Details"),i.a.createElement("form",{className:a.root,autoComplete:"off"},i.a.createElement(x.a,{className:a.textField,fullWidth:!0,id:"outlined-basic",label:"Name",name:"name",variant:"outlined",onChange:function(e){l(e.target.value)}}),i.a.createElement(x.a,{className:a.textField,fullWidth:!0,id:"outlined-basic",label:"Email",name:"email",variant:"outlined",onChange:function(e){m(e.target.value)}}),i.a.createElement(E.a,{className:a.confirmButton,type:"submit",onClick:function(){e.confirmAppointment(r,d,p)}},"Schedule Meeting")))},et={createAppointment:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/appointments/add",a={method:"POST",url:"/appointments/add",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:t},e.next=4,S()(a);case 4:return n=e.sent,S.a.post("/api/google/addAppointment",t).then(function(e){console.log(e)}).catch(function(e){return console.log("Error: "+e)}),e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};var tt=Object(K.a)(function(e){return{scheduleCalendarContainer:{display:"flex",margin:"auto",width:"1000px",height:"480px",boxShadow:"1px 1px 10px 3px rgba(196,196,196,1)",font:"Arial, Helvetica, sans-serif",fontWeight:"bold","text-align":"center"},title:{display:"flex",fontSize:"20px",fontWeight:"bold",justifyContent:"center",margin:"50px"},onTheLeftOfDivider:{position:"relative",width:"25%","& *":{fontSize:"20px","margin-top":"20px","margin-bottom":"20px"}},onTheRightOfDivider:{position:"relative",width:"75%",display:"flex"},duration:{display:"flex",justifyContent:"center"}}}),at=function(e){var t=tt(),a=new URLSearchParams(window.location.search),o=i.a.useState(""),r=Object(h.a)(o,2),l=(r[0],r[1]),c=i.a.useState(""),s=Object(h.a)(c,2),d=s[0],m=s[1],u=i.a.useState(),v=Object(h.a)(u,2);return v[0],v[1],Object(n.useEffect)(function(){m(a.get("time"))},[]),i.a.createElement("div",null,i.a.createElement("div",{className:t.title},i.a.createElement("div",{style:{color:"#F78104"}},"calend"),"App"),i.a.createElement("div",{className:t.scheduleCalendarContainer},i.a.createElement("div",{className:t.onTheLeftOfDivider},i.a.createElement("div",{className:t.duration},i.a.createElement(_e.a,null),i.a.createElement("div",null,"30 min")),i.a.createElement("div",null,"Start at ",d)),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement("div",{className:t.onTheRightOfDivider},i.a.createElement(Xe,{confirmAppointment:function(e,t,n){var i={name:e,email:t,calendarURL:n,time:"".concat(a.get("date"),"T").concat(a.get("time")),eventURL:a.get("eventURL")},o=et.createAppointment(i);console.log(o),alert("Appointment is confirmed ")},setHostName:l}))))};var nt=Object(D.a)(Ke)(function(e){return e.classes,i.a.createElement("div",null,i.a.createElement(at,null))});var it=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:function(){O.getAvailability({calendarUrl:"mila-windsor",year:"2020",month:"08",date:"23",meetingLength:"30mins",timeZone:"America/Toronto"}).then(function(e){console.log(e)})}}," here"),i.a.createElement(oe,null),i.a.createElement(j.GoogleLogout,null))},ot=a(106),rt=function(e){var t=e.component,a=Object(ot.a)(e,["component"]),o=Object(n.useContext)(z),r=(o.user,o.isAuthenticated);return i.a.createElement(p.a,Object.assign({},a,{render:function(e){return r?i.a.createElement(t,e):i.a.createElement("div",null,i.a.createElement("div",null,"Not authenticated.Please login"),i.a.createElement("a",{href:"/"},"Login"))}}))},lt=(a(155),function(e){function t(){var e;Object(l.a)(this,t),e=Object(s.a)(this,Object(d.a)(t).call(this));var a=localStorage.getItem("jwtToken");return a&&O.isTokenAuthenticated(a).then(function(t){t&&(e.state={user:t,isAuthenticated:!0})}),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(u.a,{theme:g},i.a.createElement(z.Provider,{value:this.state},i.a.createElement(v.a,null,i.a.createElement(p.c,null,i.a.createElement(p.a,{exact:!0,path:"/",component:F}),i.a.createElement(p.a,{path:"/login",component:U}),i.a.createElement(p.a,{path:"/test",component:it}),i.a.createElement(rt,{path:"/:calendarUrl/profile_setting/timezone",component:M}),i.a.createElement(rt,{path:"/:calendarUrl/profile_setting/confirm",component:Z}),i.a.createElement(rt,{path:"/:calendarUrl/profile_setting/availability",component:$}),i.a.createElement(rt,{path:"/:calendarUrl/upgrade",component:$e}),i.a.createElement(p.a,{exact:!0,path:"/:calendarUrl/:eventURL/confirm",component:nt}),i.a.createElement(p.a,{exact:!0,path:"/:calendarUrl/:eventUrl",component:Ie}),i.a.createElement(rt,{exact:!0,path:"/:calendarUrl",component:Ne})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,1,2]]]);
//# sourceMappingURL=main.9cad0cfe.chunk.js.map